unit Interfaces.Model.Pattern.Observer;

interface

uses
  Interfaces.Enums,
  Interfaces.Model.Notification;

type
  TUpdateObserverMethod = procedure (const AModelNotification: IModelNotification) of object;

  IObserver = interface
    ['{955BF992-F4FA-4141-9C0F-04600C582C00}']
    procedure UpdateObserver(const AModelNotification: IModelNotification);
    procedure SetUpdateObserverMethod(const AUpdateObserverMethod: TUpdateObserverMethod);
  end;

  IObservable = interface
    ['{DD326AE1-5049-43AA-9215-DF53DB5FC958}']
    procedure Subscribe(const AObserver: IObserver);
    procedure Unsubscribe(const AObserver: IObserver);
    procedure NotifyObservers(const AModelNotification: IModelNotification);
  end;

  IIsObserver = interface
  ['{9CED55B0-CA76-4FC7-8476-7BFFFB61DB8F}']
    function GetObserver: IObserver;
    procedure SetObserver(const Value: IObserver);

    property Observer: IObserver read GetObserver write SetObserver;

    procedure ProcessNotification(const AModelNotification: IModelNotification);
  end;

  IIsObservable = interface
  ['{EF0DA0A0-0825-48B8-97E0-4F1B8D0A6258}']
    function GetObservable: IObservable;
    procedure SetObservable(const Value: IObservable);

    property Observable: IObservable read GetObservable write SetObservable;
  end;

  IIsObservableAndIsObserver = interface(IIsObservable)
  ['{B97B661C-8E5C-430A-8C4B-0A39444A913B}']
    function GetObserver: IObserver;
    procedure SetObserver(const Value: IObserver);

    property Observer: IObserver read GetObserver write SetObserver;

    procedure ProcessNotification(const AModelNotification: IModelNotification);
  end;

implementation

end.
