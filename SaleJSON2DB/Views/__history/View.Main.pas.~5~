unit View.Main;

interface

uses
  Winapi.Windows,
  Winapi.Messages,
  System.SysUtils,
  System.Variants,
  System.Classes,
  Vcl.Graphics,
  Vcl.Controls,
  Vcl.Forms,
  Vcl.Dialogs,
  Vcl.StdCtrls;

type
  TViewMain = class(TForm)
    OpenDialog: TOpenDialog;
    ButtonSelectSale: TButton;
    procedure ButtonSelectSaleClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  ViewMain: TViewMain;

implementation

{$R *.dfm}

uses
  Globals,
  System.IOUtils,
  System.JSON,
  Interfaces.Model.Classes.Sale,
  Model.Classes.Sale;

procedure TViewMain.ButtonSelectSaleClick(Sender: TObject);
var
  LFileName: String;
  LSaleText: String;
  LSale: IModelClassSale;
begin
  if OpenDialog.Execute then begin
    LFileName := OpenDialog.FileName;
    LSaleText := TFile.ReadAllText(LFileName);
    LSale := CreateFromFileModelClassSale(LFileName);
    LSale.ToFile;
  end;
end;

end.
