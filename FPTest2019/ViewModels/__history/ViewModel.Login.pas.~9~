unit ViewModel.Login;

interface

uses
  Interfaces.ViewModel.Login;

  function CreateViewModelLogin: IViewModelLogin;

implementation

uses
  System.SysUtils,
  Globals,
  Interfaces.Enums,
  Interfaces.GUIRecords,
  Interfaces.Model.Pattern.Observer,
  Interfaces.Model.Notification,
  Model.Pattern.Observer.Observer,
  Model.Pattern.Observer.Observable,
  Model.Notification,

  Interfaces.Model.Login,
  Model.Login;

type
  TViewModelLogin = class(TInterfacedObject, IViewModelLogin, IObservable)

  {$REGION 'Private Methods'}
  private

  {$ENDREGION}

  {$REGION 'Private Fields'}
  private
    FModel: IModelLogin;
    FObservable: IObservable;
  {$ENDREGION}

  {$REGION 'Private Properties Getters/Setters'}
  private

  {$ENDREGION}

  {$REGION 'Private Properties'}
  private

  {$ENDREGION}

  {$REGION 'Interfaced Properties Getters/Setters'}
  public
    function GetObservable: IObservable;
    function GetModel: IModelLogin;
    procedure SetModel(const Value: IModelLogin);
  {$ENDREGION}

  {$REGION 'Interfaced Properties'}
  public
    property Observable: IObservable read GetObservable implements IObservable;
    property Model: IModelLogin read GetModel write SetModel;
  {$ENDREGION}

  {$REGION 'Interfaced Methods'}
  public
    procedure Logout;
    function TryLogin(APassword: String): Boolean;
  {$ENDREGION}

  {$REGION 'Constructors/Destructors'}
  public
    constructor Create;
    destructor Destroy; override;
  {$ENDREGION}
  end;

function CreateViewModelLogin: IViewModelLogin;
begin
  Result := TViewModelLogin.Create;
end;

{ TViewModelDeskLogin }

{$REGION 'Private Methods'}

{$ENDREGION}


{$REGION 'Private Properties Getters/Setters'}

{$ENDREGION}


{$REGION 'Interfaced Properties Getters/Setters'}

function TViewModelLogin.GetObservable: IObservable;
begin
  Result := FObservable;
end;

function TViewModelLogin.GetModel: IModelLogin;
begin
  Result := FModel;
end;

procedure TViewModelLogin.SetModel(const Value: IModelLogin);
begin
  FModel := Value;
end;

{$ENDREGION}


{$REGION 'Interfaced Methods'}

procedure TViewModelLogin.Logout;
begin
  Model.Logout;
end;

function TViewModelLogin.TryLogin(APassword: String): Boolean;
begin
  Result := Model.TryLogin(APassword);
end;

{$ENDREGION}


{$REGION 'Constructors/Destructors'}

constructor TViewModelLogin.Create;
begin
  inherited;
  FModel := CreateModelLogin;
end;

destructor TViewModelLogin.Destroy;
begin
  inherited;
end;

{$ENDREGION}

end.
