
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251"/>
<title>int FunctionName(a, [b])</title>
<script type="text/javascript" src="../jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="../jq.js"></script>
<link href="../style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
	<tr>
	  <td><h1>CMD_80_0_0</h1></td>
	</tr>
	<tr>
	  <td id="descr">
			<label><span>!</span> Description</label>
			<h2><pre>50H (80)	ЗВУКОВ СИГНАЛ

	Област за данни:	
			SoundData
	Отговор:		Няма данни

Командата служи за издаване на поредица от тонове със зададена честота и продължителност. 
Ако няма входни данни, издава се звуков сигнал с честота 2 kHz и продължителност 300 ms.
Ако входните данни са от вида: 
<Hz>,<mSec> където Hz и mSec са цели числа, то се издава звуков сигнал с честота Hz херца (м/у 100 и 5000) и продължителност mSec милисекунди (м/у 50 и 2000).

В останалите случаи данните са във формат, подобен на записа на ноти и могат да имат произволна дължина (не по-голяма от изискваната от протокола - 218 байта). 
Първият невалиден символ прекъсва командата. 

Допустимите подкоманди във данните са:
•	Нота: 
Една латинска главна буква със стойност от 'A' до'G'.
	'C'	до
	'D'	ре
	'E'	ми
	'F'	фа
	'G'	сол
	'A'	ла
	'B'	си
Ако непосредствено след нотата следва символът '#', то тя се повишава с един полутон (диез). 
Ако след нотата следва символът '&', то тя се понижава с един полутон (бемол).
•	Пауза: 
Символът интервал (ASCII 20h).

След нота или пауза може да има един или няколко байта, указващи продължителността. 

Валидни символи са от '0' до '5', като те имат следното значение:
	'0'	Базова продължителност
	'1'	Базова продължителност * 2
	'2'	Базова продължителност * 4
	'3'	Базова продължителност * 8
	'4'	Базова продължителност * 16
	'5'	Базова продължителност * 32

Ако има няколко продължителности една след друга, те се сумират.
	•	Преминаване към по-висока гама: символът '+'.
	•	Преминаване към по-ниска гама: символът '-'.
	•	Задаване на темпо: Символът '^', следван от една цифра. 
		Цифрата определя процентно продължителността на нотите и интервалите спрямо базовата. 
		Допустима стойност:
			'1'	200 %
			'2'	175 %
			'3'	140 %
			'4'	120 %
			'5'	100 %
			'6'	80 %
			'7'	60 %
			'8'	50 %
			'9'	40 %
	•	Връщане към гама 1 (тя е и по подразбиране). Символът '@'. Тонът 'ла' за нея е 440 Hz.

Изсвирването на изпратената последователност е фоново и принтерът може да изпълнява команди по време на звуковия сигнал.
</pre></h2>
		</td>
	</tr>
	<tr>
	  <td id="param">
			<label><span>!</span>Parameters</label>
			<div>
			<table width="100%" border="1">
				<tr>
					<th>Parameter</th>
					<th>Parameter mode</th>
					<th>Parameter type</th>
					<th>Description</th>
				</tr>
			<tr>
				<td id="col1">SoundData</td>
				<td id="col2">[IN]</td>
				<td id="col3">[STRING]</td>
				<td id="def"><pre>SoundData

Командата служи за издаване на поредица от тонове със зададена честота и продължителност. 
Ако няма входни данни, издава се звуков сигнал с честота 2 kHz и продължителност 300 ms.
Ако входните данни са от вида: 
<Hz>,<mSec> където Hz и mSec са цели числа, то се издава звуков сигнал с честота Hz херца (м/у 100 и 5000) и продължителност 
mSec милисекунди (м/у 50 и 2000).

В останалите случаи данните са във формат, подобен на записа на ноти и могат да имат произволна дължина (не по-голяма от 
изискваната от протокола - 218 байта). 
Първият невалиден символ прекъсва командата. 

Допустимите подкоманди във данните са:
	•	Нота: Една латинска главна буква със стойност от 'A' до'G'.
	'C'	до
	'D'	ре
	'E'	ми
	'F'	фа
	'G'	сол
	'A'	ла
	'B'	си
Ако непосредствено след нотата следва символът '#', то тя се повишава с един полутон (диез). 
Ако след нотата следва символът '&', то тя се понижава с един полутон (бемол).
•	Пауза: Символът интервал (ASCII 20h).

След нота или пауза може да има един или няколко байта, указващи продължителността. 

Валидни символи са от '0' до '5', като те имат следното значение:
	'0'	Базова продължителност
	'1'	Базова продължителност * 2
	'2'	Базова продължителност * 4
	'3'	Базова продължителност * 8
	'4'	Базова продължителност * 16
	'5'	Базова продължителност * 32

Ако има няколко продължителности една след друга, те се сумират.
	•	Преминаване към по-висока гама: символът '+'.
	•	Преминаване към по-ниска гама: символът '-'.
	•	Задаване на темпо: Символът '^', следван от една цифра. 
		Цифрата определя процентно продължителността на нотите и интервалите спрямо базовата. 
		Допустима стойност:
			'1'	200 %
			'2'	175 %
			'3'	140 %
			'4'	120 %
			'5'	100 %
			'6'	80 %
			'7'	60 %
			'8'	50 %
			'9'	40 %
	•	Връщане към гама 1 (тя е и по подразбиране). Символът '@'. Тонът 'ла' за нея е 440 Hz.

Изсвирването на изпратената последователност е фоново и принтерът може да изпълнява команди по време на звуковия сигнал.
</pre>

</td>
			</tr>
			</table>
			</div>
		</td>
	</tr>
</table>
<center>&copy; Copyright <a href="http://www.datecs.bg">DATECS</a> 2010 &reg;</center>
</body>
</html>
